# 如何遍历对象的属性？（必会）

**题目**: 如何遍历对象的属性？（必会）

## 答案

在JavaScript中，有多种方法可以遍历对象的属性。以下是常用的方法：

### 1. for...in 循环
这是最常用的遍历对象属性的方法，它会遍历对象自身及其原型链上所有可枚举的属性。

```javascript
const obj = { name: 'John', age: 30, city: 'New York' };

for (let key in obj) {
    if (obj.hasOwnProperty(key)) {
        console.log(key + ': ' + obj[key]);
    }
}
// 输出:
// name: John
// age: 30
// city: New York
```

### 2. Object.keys() 方法
返回对象自身所有可枚举属性的数组，然后可以使用数组的forEach方法或for循环遍历。

```javascript
const obj = { name: 'John', age: 30, city: 'New York' };

Object.keys(obj).forEach(key => {
    console.log(key + ': ' + obj[key]);
});

// 或者使用for循环
for (let key of Object.keys(obj)) {
    console.log(key + ': ' + obj[key]);
}
```

### 3. Object.getOwnPropertyNames() 方法
返回对象自身所有属性（包括不可枚举的属性）的数组。

```javascript
const obj = { name: 'John', age: 30, city: 'New York' };
// 添加一个不可枚举的属性
Object.defineProperty(obj, 'hidden', {
    value: 'secret',
    enumerable: false
});

Object.getOwnPropertyNames(obj).forEach(key => {
    console.log(key + ': ' + obj[key]);
});
// 输出包括所有属性，包括不可枚举的'hidden'属性
```

### 4. Object.entries() 方法
返回对象自身所有可枚举属性的键值对数组，适合同时获取键和值。

```javascript
const obj = { name: 'John', age: 30, city: 'New York' };

Object.entries(obj).forEach(([key, value]) => {
    console.log(key + ': ' + value);
});
// 输出:
// name: John
// age: 30
// city: New York
```

### 5. Object.values() 方法
返回对象自身所有可枚举属性值的数组。

```javascript
const obj = { name: 'John', age: 30, city: 'New York' };

Object.values(obj).forEach(value => {
    console.log(value);
});
// 输出:
// John
// 30
// New York
```

### 6. Reflect.ownKeys() 方法
返回对象自身的所有属性键（包括不可枚举属性和Symbol属性）。

```javascript
const sym = Symbol('id');
const obj = { name: 'John', age: 30, [sym]: 123 };

// 添加一个不可枚举的属性
Object.defineProperty(obj, 'hidden', {
    value: 'secret',
    enumerable: false
});

Reflect.ownKeys(obj).forEach(key => {
    console.log(key + ': ' + obj[key]);
});
```

### 各种方法的区别

- **for...in**: 遍历对象自身及原型链上的所有可枚举属性
- **Object.keys()**: 只遍历对象自身的可枚举属性
- **Object.getOwnPropertyNames()**: 遍历对象自身的所有属性（包括不可枚举）
- **Object.entries()**: 获取键值对数组，适合同时使用键和值
- **Object.values()**: 获取所有属性值数组
- **Reflect.ownKeys()**: 获取所有自身属性（包括不可枚举和Symbol属性）

在实际开发中，最常用的是`for...in`循环和`Object.keys()`方法。使用`for...in`时通常需要配合`hasOwnProperty()`方法来确保只遍历对象自身的属性，避免遍历到原型链上的属性。
