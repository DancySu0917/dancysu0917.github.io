# 如何实现双飞翼（圣杯）布局？（必会）

**题目**: 如何实现双飞翼（圣杯）布局？（必会）

**答案**:

双飞翼布局（Holy Grail Layout）是一种经典的三栏布局，特点是中间栏最先加载，两侧栏后加载，但视觉上中间栏在中间，两侧栏分别在左右两边。这种布局在响应式设计中非常有用。

## 双飞翼布局的特点：

1. 三栏布局，左右固定宽度，中间自适应
2. 中间栏内容优先加载（SEO友好）
3. 左右两栏不会遮挡中间栏内容

## 实现方法：

### 1. Flexbox实现（现代推荐）

```html
<div class="container">
    <header>头部</header>
    <div class="main-content">
        <div class="left">左侧栏</div>
        <div class="center">中间栏</div>
        <div class="right">右侧栏</div>
    </div>
    <footer>底部</footer>
</div>
```

```css
.container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.main-content {
    display: flex;
    flex: 1;
}

.left {
    width: 200px;
    background-color: #f0f0f0;
}

.center {
    flex: 1;
    background-color: #e0e0e0;
}

.right {
    width: 200px;
    background-color: #d0d0d0;
}
```

### 2. Grid实现（现代推荐）

```html
<div class="container">
    <header>头部</header>
    <div class="main-content">
        <div class="left">左侧栏</div>
        <div class="center">中间栏</div>
        <div class="right">右侧栏</div>
    </div>
    <footer>底部</footer>
</div>
```

```css
.container {
    min-height: 100vh;
    display: grid;
    grid-template-rows: auto 1fr auto;
    grid-template-areas: 
        "header"
        "main"
        "footer";
}

.main-content {
    grid-area: main;
    display: grid;
    grid-template-columns: 200px 1fr 200px;
    grid-template-areas: "left center right";
}

.left {
    grid-area: left;
    background-color: #f0f0f0;
}

.center {
    grid-area: center;
    background-color: #e0e0e0;
}

.right {
    grid-area: right;
    background-color: #d0d0d0;
}
```

### 3. 传统圣杯布局（浮动+负边距）

```html
<div class="container">
    <div class="center">中间栏</div>
    <div class="left">左侧栏</div>
    <div class="right">右侧栏</div>
</div>
```

```css
.container {
    min-width: 600px; /* 三栏最小宽度之和 */
    padding: 0 200px; /* 为左右栏预留空间 */
}

.center, .left, .right {
    float: left;
    position: relative;
}

.center {
    width: 100%;
    background-color: #e0e0e0;
}

.left {
    width: 200px;
    right: 200px; /* 向左移动200px */
    margin-left: -100%; /* 移动到第一行最左边 */
    background-color: #f0f0f0;
}

.right {
    width: 200px;
    margin-right: -200px; /* 负边距消除自身宽度 */
    background-color: #d0d0d0;
}

/* 清除浮动 */
.container::after {
    content: "";
    display: table;
    clear: both;
}
```

### 4. 双飞翼布局（淘宝方案）

```html
<div class="container">
    <div class="main-wrapper">
        <div class="center">中间栏</div>
    </div>
    <div class="left">左侧栏</div>
    <div class="right">右侧栏</div>
</div>
```

```css
.container {
    min-width: 600px;
}

.main-wrapper {
    float: left;
    width: 100%;
}

.center {
    margin: 0 200px; /* 为左右栏预留空间 */
    background-color: #e0e0e0;
}

.left, .right {
    float: left;
    width: 200px;
}

.left {
    margin-left: -100%; /* 移动到最左边 */
    background-color: #f0f0f0;
}

.right {
    margin-left: -200px; /* 移动到最右边 */
    background-color: #d0d0d0;
}

/* 清除浮动 */
.container::after {
    content: "";
    display: table;
    clear: both;
}
```

## 各种方法对比：

1. **Flexbox**：代码简洁，兼容性好，易于维护，现代推荐
2. **Grid**：功能强大，适合复杂布局，现代浏览器支持良好
3. **传统圣杯布局**：兼容性最好，但代码复杂，需要理解负边距
4. **双飞翼布局**：淘宝优化版，结构清晰，但同样需要理解负边距

在现代开发中，推荐使用Flexbox或Grid实现双飞翼布局，它们代码简洁、易于理解且维护性好。
