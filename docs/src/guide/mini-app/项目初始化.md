# 项目初始化

## 1 目录及文件初始化

创建项目后，先初始化 package.json，然后进行目录结构调整

::: code-group

```bash [命令行]
npm init -y
```

```bash [目录结构]
.
├─ miniprogram
│  ├─ assets
│  ├─ components
│  ├─ pages
│  │  └─ index
│  ├─ utils
│  ├─ app.js
│  ├─ app.json
│  ├─ app.wxss # ← 若启用 Sass，后续会改名为 app.scss
│  └─ sitemap.json
├─ .gitignore
├─ package.json
├─ project.config.json
├─ project.private.config.json
└─ README.md
```

:::



## 2 指定小程序的源码目录 & 自定义构建

配置 **小程序源码根目录** 与 **NPM 构建产物路径**。建议将 NPM 构建产物输出到 `miniprogram/`

::: code-group

```json [project.config.json]
{
  "miniprogramRoot": "./miniprogram",
  "setting": {
    "packNpmManually": true,
    "packNpmRelationList": [
        {
            "packageJsonPath": "./package.json",
            "miniprogramNpmDistDir": "./miniprogram"
        }
    ],
  }
}
```

:::

## 3 安装 Vant 并构建 NPM

安装依赖后，在 **开发者工具 → 工具 → 构建 NPM**。

::: code-group

```bash [命令行]
npm i @vant/weapp -S --production
```

```json [pages/index/index.json]
{
  "usingComponents": {
    "van-button": "@vant/weapp/button/index",
    "van-cell": "@vant/weapp/cell/index"
  }
}
```

:::



## 4 集成sass

启用编译插件，并将样式文件改为 `.scss`。

::: code-group

```json [project.config.json]
{
  "setting": {
    "useCompilerPlugins": ["sass"],
  }
}
```

:::
