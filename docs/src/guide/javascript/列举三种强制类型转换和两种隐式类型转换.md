# 列举三种强制类型转换和两种隐式类型转换？（必会）

**题目**: 列举三种强制类型转换和两种隐式类型转换？（必会）

## 答案

在JavaScript中，类型转换分为强制类型转换（显式类型转换）和隐式类型转换两种：

### 三种强制类型转换

#### 1. Number() 函数
将值转换为数字类型

```javascript
Number('123');     // 123
Number('hello');   // NaN
Number(true);      // 1
Number(false);     // 0
Number(null);      // 0
Number(undefined); // NaN
Number({});        // NaN
Number([]);        // 0
Number([10]);      // 10
```

#### 2. String() 函数
将值转换为字符串类型

```javascript
String(123);        // '123'
String(true);       // 'true'
String(false);      // 'false'
String(null);       // 'null'
String(undefined);  // 'undefined'
String({});         // '[object Object]'
String([]);         // ''
String([1, 2, 3]);  // '1,2,3'
```

#### 3. Boolean() 函数
将值转换为布尔类型

```javascript
Boolean(0);         // false
Boolean('');        // false
Boolean(null);      // false
Boolean(undefined); // false
Boolean(NaN);       // false
Boolean({});        // true
Boolean([]);        // true
Boolean('hello');   // true
Boolean(123);       // true
```

### 两种隐式类型转换

#### 1. 四则运算中的类型转换
在加法运算中，如果操作数中有字符串，其他类型会被转换为字符串进行拼接

```javascript
// 加法运算中的隐式转换
'5' + 3;        // '53' (数字3被转换为字符串)
3 + '5';        // '35' (数字3被转换为字符串)
5 + true;       // 6 (true被转换为1)
'hello' + null; // 'hellonull' (null被转换为字符串'null')

// 其他运算符会将操作数转换为数字
'5' - 3;        // 2 (字符串'5'被转换为数字5)
'10' * 2;       // 20 (字符串'10'被转换为数字10)
'12' / 3;       // 4 (字符串'12'被转换为数字12)
```

#### 2. 比较运算中的类型转换
在非严格相等（==）比较中，JavaScript会进行类型转换

```javascript
// 隐式类型转换在比较中的应用
5 == '5';           // true (字符串'5'被转换为数字5)
true == 1;          // true (true被转换为1)
false == 0;         // true (false被转换为0)
null == undefined;  // true (特殊规则)
0 == false;         // true (false被转换为0)
'0' == false;       // true (两边都被转换为0)
[] == false;        // true (空数组被转换为0，false也被转换为0)
[1] == 1;           // true (数组[1]被转换为字符串'1'，再转换为数字1)
```

### 类型转换规则总结

#### 转换为布尔值的假值（falsy）：
- `false`
- `0`
- `-0`
- `0n` (BigInt)
- `""` (空字符串)
- `null`
- `undefined`
- `NaN`

#### 转换为数字的规则：
- 字符串转数字：尝试解析为数字，失败则返回NaN
- 布尔值转数字：true为1，false为0
- null转数字：0
- undefined转数字：NaN
- 对象转数字：先调用valueOf()，再调用toString()

### 避免意外类型转换的建议

1. 使用严格相等（===）而不是非严格相等（==）
2. 在进行数学运算前，先进行类型验证
3. 使用显式类型转换函数来明确意图

理解类型转换机制对于编写可预测的JavaScript代码至关重要。
